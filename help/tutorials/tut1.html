<!DOCTYPE html>
<html lang="pl">
<head>
	<title>Wizjer 6502 - Tutorial 1</title>
	<meta charset="UTF-8"/>
	<meta name="description" content="Tutorial 1"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" href="../../favicon.png" />
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Kanit%7CSource+Code+Pro&amp;subset=latin-ext"/>
	<link rel="stylesheet" href="../../fontello/css/fontello.css"/>
	<link rel="stylesheet" href="../../style.min.css" />
	<link rel="stylesheet" href="../basicstyle.min.css" />
	<link rel="stylesheet" href="style.min.css" />
</head>
<body>
	<header>
		<a class="logo" href="../../index.html">
			<img width="100" height="100" src="../../favicon.png" alt="logo"/>
			<h1>Wizjer 6502</h1>
		</a>
	</header>
	<main>
		<h1 id="header">Tutorial 1</h1>
		<div class="section">
			<p>Używanie symulacji Wizjer 6502 nie jest takie trudne, jeśli przeczytasz ten tutorial i będziesz podążał za krokami, które są wyznaczone. Zobaczysz, programowanie w <a href="../glossary/glossary.html#assembly" class="site-link">asemblerze</a> 6502 potrafi dać naprawdę ciekawe rezultaty! W tym tutorialu napiszemy pewien napis. Polecamy najpierw rozpocząć od tego tutoriala, ponieważ dzięki niemu możesz opanować podstawowe funkcje Wizjera 6502.</p>
		</div>
		<div class="section">
			<div class="right">
				<img src="img/tut1/step1.png" alt="step1"/>
			</div>
			<p><strong>1.</strong> Na początek, kliknij na białe pole tekstowe po lewej stronie Wizjera i wprowadź kod taki, jak na zdjęciu obok. Następnie naciśnij przycisk "Załaduj" oraz kartę "Śledzenie".</p>
			<p><button id="copy-clipboard-1" class="copy-clipboard"><i class="icon-clipboard"></i>Skopiuj kod</button></p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div>
				<img src="img/tut1/step2.png" alt="step2"/>
			</div>
			<p><strong>2.</strong> Komórki pamięci, które zostały wyróżnione na czerwono to komórki, które wcześniej miały inną wartość, a w ich miejsce znalazł się kod programu. Kod w postaci ciągu liczb zapisanych w pamięci RAM nazywamy <a href="../glossary/glossary.html#machine-code" class="site-link">kodem maszynowym</a>. Adres komórki odczytuje się poprzez dodanie liczby z pierwszych komórek kolumny i wiersza w tabeli np. komórka z wierszem zaczynającym się od $0010 i kolumnie rozpoczynającej od $0002 ma adres $0012 i na zdjęciu przechowuje wartość $AB.</p>
			<p>Wciśnij przycisk "Start", aby uruchomić program i wykonywać go automatycznie, lub "Krok", aby program był uruchomiony, ale po wykonaniu cyklu zatrzymuje się (jest w trybie krokowym). Na początek polecamy drugą opcję.</p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div class="left">
				<img src="img/tut1/step3.png" alt="step3" width="539" height="336"/>
			</div>
			<p><strong>3.</strong> W czasie wykonania pierwszego cyklu na czerwono zostały wyróżnione: <a href="../glossary/glossary.html#instruction-decoder" class="site-link">dekoder instrukcji</a>, <a href="../glossary/glossary.html#instruction-register" class="site-link">rejestr instrukcji</a>, <a href="../glossary/glossary.html#data-bus" class="site-link">wewnętrzna szyna danych</a>, <a href="../glossary/glossary.html#program-counter" class="site-link">licznik programu</a>, <a href="../glossary/glossary.html#idl" class="site-link">rejestr zatrzaskowy IDL</a> i <a href="../glossary/glossary.html#address-bus" class="site-link">szyna adresowa</a>. Są to komponenty procesora, które brały udział w tym cyklu. Na szarym polu jest kod wykonywanego rozkazu w języku asemblera. Licznik programu zmienił swoją wartość z $0000 na $0001. Ten 16-bitowy rejestr wskazuje teraz na drugą liczbę w pamięci RAM, która jest argumentem rozkazu <a href="../ops/lda.html" class="site-link">LDA</a>, który jest teraz wykonywany. W komórce oznaczoną bladozielonym kolorem znajduje się <a href="../glossary/glossary.html#opcode" class="site-link">opkod</a>, czyli liczba, która pobrana w pierwszym cyklu każdego rozkazu jest traktowana jak informacja, jaką operację wykonać i w jakim trybie adresowania. Opkod ma wartość $A9 i oznacza rozkaz LDA w <a href="../modes/immediate.html" class="site-link">trybie natychmiastowym</a>. Znak dolara przed liczbą oznacza, że liczba jest w zapisie szesnastkowym.</p>
			<p>Jeśli wybrałeś/aś wykonywanie krokowe, wciśnij przycisk "Krok".</p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div class="right">
				<img src="img/tut1/step4.png" alt="step4" width="530" height="336"/>
			</div>
			<p><strong>4.</strong> W drugim cyklu <a href="../glossary/glossary.html#accumulator" class="site-link">akumulator</a> (rejestr oznaczony literą A) przyjął wartość $36. To jest taka sama wartość, jaką ma argument rozkazu LDA, którego teraz wykonuje. Tryb adresowania, w którym argument zostaje od razu wykorzystany do operacji nazywamy natychmiastowym. Operacja w drugim cyklu wpłynęła także na: licznik programu, flagi N i Z rejestru stanu, IDL, szynę adresową i dekoder instrukcji. W asemblerze tryb natychmiastowy wybieramy wpisując znak '#' na początek liczby szesnastkowej. Jest to ostatni cykl rozkazu LDA #$36, można więc dojść do wniosku, że ta instrukcja oznacza "załaduj liczbę $36 do akumulatora".</p>
			<p>Jeśli wybrałeś/aś wykonywanie krokowe, wciśnij przycisk "Krok".</p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div class="left">
				<img src="img/tut1/step5.png" alt="step5"/>
			</div>
			<p><strong>5.</strong> W cyklu pierwszym rozkazu "<a href="../ops/sta.html" class="site-link">STA</a> $0600" są wyróżnione dokładnie te same komponenty, jak w cyklu pierwszym poprzedniego rozkazu. Następne cykle pierwsze każdego rozkazu są pominięte w dalszej części tutoriala, jak i całym tutorialu nr 2. Tylko dlaczego opkod bieżącego rozkazu znajduje się w $0002, a nie w $0001? Dlatego, że w komórce $0001 znajdował się argument poprzedniego rozkazu. Procesor pracowałby dość niewydajnie, gdyby wszystkie argumenty były przechowywane poza kodem programu.</p>
			<p>Najedź na pola obok "Adres pierwszej komórki" i zmień wartości tak, jak na zdjęciu. Naciśnij przycisk "Odśwież". Jeśli wybrałeś/aś wykonywanie krokowe, wciśnij trzy razy przycisk "Krok".</p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div class="right">
				<img src="img/tut1/step6.png" alt="step6" width="398" height="289"/>
			</div>
			<p><strong>6.</strong> Po naciśnięciu przycisku "Odśwież" pokazały się komórki od $0600 do $0630. Nie interesuje nas kod programu znajdujący się w pierwszych komórkach pamięci, dlatego przełączyliśmy się na te komórki. Nie wybraliśmy ich przypadkowo - Są to specjalne komórki podłączone do wirtualnego terminala, który jest pod widokiem pamięci RAM. Parzyste komórki przechowują znak w komórce terminala, a nieparzyste informacje o kolorze tła i tekstu komórki. Komórka $0600 wyróżniła się na czerwono i przyjęła wartość dokładnie taką samą, jaką ma akumulator. Argument rozkazu STA jest taki sam, jak adres komórki, do którego zapisano wartość z akumulatora. To oznacza, że rozkaz STA wykonuję operację "Przechowaj wartość z akumulatora w komórce o adresie $0600". Rozkaz był w <a href="../modes/absolute.html" class="site-link">trybie bezwzględnym</a>, gdzie argument stanowił dokładny adres, do którego miał się odwołać, bez żadnych udziwnień. Argument w takim trybie zajmuje aż dwa bajty, dlatego tak prosta operacja, jak zapis do komórki trwał aż cztery cykle zegara. Poprzednia operacja trwała tylko dwa. Na konsoli wyświetliła się cyfra "6", gdyż w komórce, która odpowiada za ten znak w danej pozycji znajduje się liczba $36, który jest kodem ASCII/Unicode cyfry "6".</p>
			<p>Jeśli wybrałeś/aś wykonywanie krokowe, wciskaj przycisk "Krok" dopóty, dopóki rozkaz "STA $0601" nie zostanie wyróżniony na ciemnoczerwono, a numer cyklu nie będzie czwarty.</p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div class="left">
				<img src="img/tut1/step7.png" alt="step7" width="398" height="289"/>
			</div>
			<p><strong>7.</strong> Przez ten czas wczytałeś/aś do akumulatora wartość $1F i zapisałeś/aś go do komórki o adresie $0601. Tym razem zmienił się kolor tła i tekstu komórki, na którym jest cyfra "6". Najstarszy półbajt liczby $1F wskazuje tło, a najmłodszy kolor. To oznacza, że wartość $1 oznacza "granatowy", a $F "biały". Jeden półbajt może przechować szesnaście wartości, czyli szesnaście różnych kolorów.</p>
			<p>Wciśnij przycisk "Reset", aby zatrzymać program. Najedź na komórkę $0602 i kliknij ją dwa razy z rzędu. W komórce utworzy się pole tekstowe, w którą należy wpisać wartość. Wpisz wartość $35. Kliknij dowolny obszar poza polem tekstowym.</p>
			<div style="clear: both;"></div>
		</div>
		<div class="section">
			<div class="right">
				<img src="img/tut1/step8.png" alt="step8" width="214" height="398"/>
			</div>
			<p><strong>8.</strong> Komórka $0602 przyjęła wartość $35. Nastąpiła  też aktualizacja w terminalu - obok cyfry "6" pojawiła się cyfra "5".</p>
			<p>W podobny sposób wprowadź ciąg liczb: $1F, $30, $1F, $32, $1F rozpoczynając od komórki $0603. Zobacz, co Ci się wyświetli na terminalu.</p>
			<div style="clear: both;"></div>
		</div>
		<div id="copy-message">
			Skopiowano
		</div>
	</main>
	<footer>
		<div id="help-footer">
			<a href="../instructions.html">Powrót &lt;&lt;</a>
			<a href="../tutorials/tut2.html" style="margin-left: 3em;">Następny tutorial &gt;&gt;</a>
		</div>
		<div class="copyright-note">2022 Paweł Oziomek &copy; Wszelkie prawa zastrzeżone</div>
	</footer>
	<script>
		document.getElementById('copy-clipboard-1').addEventListener('click', () =>
		{
			navigator.clipboard.writeText(
`LDA #$36
STA $0600
LDA #$1F
STA $0601`);
			let copyMessage = document.getElementById('copy-message');
			copyMessage.style.opacity = 1;
			setTimeout(() => { copyMessage.style.opacity = 0; }, 5000);
		});
	</script>
</body>
</html>
